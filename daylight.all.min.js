(function(){var StringPrototype=String.prototype;StringPrototype.trim=StringPrototype.trim||function(){return this.replace(/(^\s*)|(\s*$)/gi,"")};StringPrototype.ltrim=function(){return this.replace(/^\s+/,"")};StringPrototype.rtrim=function(){return this.replace(/\s+$/,"")};StringPrototype.startsWith=function(str){return this.indexOf(str)==0};StringPrototype.replaceAll=function(from,to){if(!this)return"";return this.split(from).join(to)};StringPrototype.toUpperFirst=function(){return this.substring(0,
1).toUpperCase()+this.substring(1)};var ArrayPrototype=Array.prototype;ArrayPrototype.indexOf=ArrayPrototype.indexOf||function(element){var length=this.length;for(var i=0;i<length;++i)if(this[i]===element)return i;return-1};ArrayPrototype.forEach=ArrayPrototype.forEach||function(func){var length=this.length;for(var i=0;i<length;++i)func.call(this[i],this[i],i,this);return this};ArrayPrototype.remove=ArrayPrototype.remove||function(member){var index=this.indexOf(member);if(index>-1)this.splice(index,
1);return this};Object.keys=Object.keys||function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null))throw new TypeError("Object.keys called on non-object");var result=[],prop,i;for(prop in obj)if(hasOwnProperty.call(obj,
prop))result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)if(hasOwnProperty.call(obj,dontEnums[i]))result.push(dontEnums[i]);return result}}()})();
(function(window){var document=window.document||document;var NodeListPrototype=document.childNodes.__proto__;var prototype={};var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var navigator=window.navigator||navigator;var userAgent=navigator.userAgent;var _Element=window.HTMLElement||window.Element;var sObject="object",sDaylight="daylight",sString="string",sArray="array",sNodeList="nodelist",sElementList="elementlist";"Boolean Number String Text Function Array Date RegExp Object Error Window NodeList HTMLCollection".split(" ").forEach(function(name,
index,arr){class2type["[object "+name+"]"]=name.toLowerCase()});var _checkType=function(obj){var type=typeof obj;return obj==null?obj+"":type==="object"?obj instanceof _Element?"element":obj.elementlist||class2type[toString.call(obj)]||"object":type};var _concat=function(arr){var a=[];var l=arr.length;var t=daylight.type(arr);if(t==="nodelist"){a=Array.prototype.slice.call(arr);return a}var type,i;for(i=0;i<l;++i){type=_checkType(arr[i]);if(type==="array")a=a.concat(arr[i]);else if(type==="nodelist")a=
a.concat(Array.prototype.slice.call(arr[i]));else a.push(arr[i])}return a};var ElementList=function ElementList(arr){this.length=0;if(!arr)return;var type=_checkType(arr);if(type!=="nodelist"&&type!=="array"){this[0]=arr;this.length=1;return}var length=arr.length;for(var i=0;i<length;++i)this[i]=arr[i];this.length=length};var ElementListPrototype=ElementList.prototype=[];ElementListPrototype.push=ElementListPrototype.add=function(e){var length=this.length;this[length++]=e;this.length=length;return this};
ElementListPrototype.elementlist=sElementList;NodeListPrototype.push=NodeListPrototype.add=function(e){var a=new ElementList(this);a.add(e);return a};var daylight=window.daylight=window.$=window.$o=function(obj,element){var type=_checkType(obj);switch(type){case "string":return $o.query(obj,element);case "nodelist":return obj;case "element":case "htmlcollection":default:return new ElementList(obj)}};prototype.size=function(){return this.length};prototype.extend=daylight.extend=function(){var length=
arguments.length;var i=0;var target=this;var type=_checkType(arguments[0]);if(type==="boolean"){target=arguments[1];i=2}for(;i<length;++i){object=arguments[i];for(var key in object){if(target.hasOwnProperty(key))continue;target[key]=object[key]}}return target};daylight.extend({query:function(query,element){element=element||document;return element.querySelectorAll(query)},"class":function(className,element){element=element||document;return element.getElementsByClassName(className)},id:function(id){return new ElementList(document.getElementById(id))},
name:function(name,element){element=element||document;return element.getElementsByTagName(name)}});daylight.extend({merge:function(result,data){var length=result.length;var length2=data.length;for(var i=0;i<length2;++i)result[length++]=data[i];return result},makeArray:function(arr){var result=[];this.merge(result,arr);return result},index:function(arr,object){var type=_checkType(arr);if(arr.indexOf)return arr.indexOf(object);if(type==="object"){for(var key in arr)if(arr[key]===object)return key;return""}else{var length=
arr.length;for(var i=0;i<length;++i)if(arr[i]===object)return i;return-1}}});prototype.extend({toArray:function(){return daylight.makeArray(this)}});daylight.camelCase=function(str){return str.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})};prototype.extend({parent:function(object){var arr=new ElementList;var type=daylight.type(object);var parentObjects=type===sString?daylight(object).o:[];if(type==="number")this.each(function(v){if(!daylight.isElement(v))return;var i=object;while(--i>=
0&&(v=v.parentNode));if(!v)return;arr.add(v)});else this.each(function(v){if(!daylight.isElement(v))return;var a=v.parentNode;if(a)arr.add(a)});return arr},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!daylight.nodeName(offsetParent,"html")&&offsetParent.style&&offsetParent.style.position==="static"))offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}});prototype.extend({find:function(query){if(this.length===
1)return this[0].querySelectorAll(query);var list=new ElementList;this.each(function(element,index){var elements=element.querySelectorAll(query);elements.each(function(element,index){list.add(element)})});return list},children:function(){var o=new ElementList;this.each(function(v){if(!daylight.isElement(v))return;var a=this.children;var l=a.length;for(var i=0;i<l;++i)o.add(a[i])});return o},prev:function(nCount){nCount=nCount?nCount:1;var arr=new ElementList;var length=this.length;this.each(function(e){if(!daylight.isElement(e))return;
if(e.previousElementSibling)while((e=e.previousElementSibling)!=null&&--nCount!=0);else while((e=e.previousSibling)!=null&&(e.nodeType===1&&--nCount!=0||e.nodeType!==1));if(!e)return;if(nCount>0)return;arr.add(e)});return arr},next:function(nCount){nCount=nCount?nCount:1;var arr=new ElementList;var length=this.length;this.each(function(e){if(!daylight.isElement(e))return;if(e.previousElementSibling)while((e=e.nextElementSibling)!=null&&--nCount!=0);else while((e=e.nextSibling)!==null&&(e.nodeType===
1&&--nCount!=0||e.nodeType!==1));if(!e)return;if(nCount>0)return;arr.add(e)});return arr}});prototype.extend({index:function(object){var type=daylight.type(object);if(type===sDaylight)object=object.get(0);var length=this.length;for(var i=0;i<length;++i)if(this.get(i)===object)return i;return-1},size:function(){return this.length},get:function(index){if(index===undefined)return this.getOriginal();var length=this.length;if(length===0)return;while(index<0)index=length+index;while(index>=this.length)index=
index-length;return this[index]},getOriginal:function(){var type=daylight.type(this);if(type==="nodelist")return this;return this.toArray()},first:function(){if(this.length===0)return;return daylight(this.get(0))},last:function(){if(this.length===0)return;return daylight(this.get(-1))}});daylight.extend({createElement:function(name,object){var element=document.createElement(name);for(var attr in object){if(typeof object[attr]==="undefined")continue;element.setAttribute(attr,object[attr])}return element},
jsonToElement:function(json){}});daylight.extend({parseJSON:function(text){try{if(typeof text==="object")return text;return JSON.parse(text)}catch(e){return{}}},parseHTML:function(text){var p=document.createElement("p");p.innerHTML=text;var arr=_concat(p.childNodes);return arr}});daylight.extend({define:function(object,name,func){var type=typeof object;if(type==="object"&&object.__proto__)object.__proto__[name]=func;else if(["function","object"].indexOf(type)!=-1&&object.prototype)object.prototype[name]=
func;else if(type==="object")object[name]=func;else throw new Error("\ud568\uc218 \ub9cc\ub4e4\uae30 \uc2e4\ud328  : "+name);},defineGetterSetter:function(object,name){this.defineGetter(object,name);this.defineSetter(object,name)},defineGetter:function(object,name,func){if(!func)func=function(name){return function(){return this[name]}}(name);if(name.indexOf("is_")!=-1){name=name.replace("is_","");name="is"+name.charAt(0).toUpperCase()+name.substr(1,name.lengh)}else name="get"+name.charAt(0).toUpperCase()+
name.substr(1,name.length);this.define(object,name,func)},defineSetter:function(object,name,func){if(!func)func=function(name){return function(value){this[name]=value;return this}}(name);name="set"+name.charAt(0).toUpperCase()+name.substr(1,name.length);this.define(object,name,func)},defineGlobal:function(name,o){var typeName=_checkType(name);if(typeName==="string")window[name]=o},overload:function(){var args=arguments;var methods={};for(var i=0;i<args.length;++i){var obj=args[i];var type=_checkType(obj);
if(type==="function")methods[obj.length]=obj;else if(type==="object")for(var param in obj)methods[param]=obj[param]}return function(){var args2=arguments;if(methods[args2.length])return methods[args2.length].apply(this,args2);var arr=daylight.map(args2,function(value){var type=_checkType(value);return type==="object"&&value.constructor.name.toLowerCase()||type});var param=arr.join(",");if(methods[param])return methods[param].apply(this,args2);return}},noConflict:function(){return this}});daylight.extend({nodeName:function(element,
compare){var nodeName=element.nodeName;var type=typeof element;if(compare!==undefined)if(type==="object")return nodeName===compare.nodeName;else return nodeName===compare;return nodeName},isNode:function(o){if(typeof o!=="object")return false;if(o instanceof _Node)return true;return false},isElement:function(o){if(!o)return false;if(o.nodeType===1)return true;return false},isFunction:function(o){return typeof o==="function"},isPlainObject:function(n){if(!n)return false;if(n.constructor===Object)return true},
isDaylight:function(obj){var type=_checkType(obj);return this.isDaylightType(type)},isDaylightType:function(type){if(type==="daylight")return true;if(type==="nodelist")return true;if(type==="elementlist")return true;return false}});prototype.extend({nodeName:function(){return daylight.nodeName(this.get(0))},empty:function(){return this.length===0}});daylight.extend({replace:function(from,to,str){return str.split(from).join(to)}});daylight.extend({each:function(arr,callback){var type=_checkType(arr,
true);if(type===sArray||type===sNodeList){var length=arr.length;for(var i=0;i<length;++i)callback.call(arr[i],arr[i],i,arr)}else if(type===sObject)for(var i in arr)callback.call(arr[i],arr[i],i,arr);else if(type===sDaylight)arr.each(callback);return arr},map:function(arr,callback){var arr2=[];var type=_checkType(arr,true);if(type===sArray||type===sNodeList){var length=arr.length;for(var i=0;i<length;++i)arr2[arr2.length]=callback.call(arr[i],arr[i],i,arr)}else if(type===sObject)for(var i in arr)arr2[arr2.length]=
callback.call(arr[i],arr[i],i,arr);else if(type===sDaylight)return arr.map(callback);return arr2},has:function(element,object,isContainParent){var is_element=daylight.isElement(object)&&daylight.isElement(element);var is_selector=typeof object===sString;return is_element&&daylight.contains(element,object,isContainParent)||is_selector&&daylight.contains(element,element.querySelector(object))},contains:function(parent,node,isContainParent){return(isContainParent&&parent===node||parent!==node)&&parent.contains(node)}});
prototype.extend({filter:function(func){var type=_checkType(func);var objects=this;var length=this.length;var arr=new ElementList;switch(type){case "function":for(var i=0;i<length;++i){var o=objects[i];var a=func.call(o,o,i,objects);if(a)arr.add(o)}return arr}return arr},has:function(selector,isContainParent){if(daylight.isElement(selector))return this.filter(function(){return daylight.contains(this,selector,isContainParent)});else if(typeof selector==="string")return this.filter(function(){return daylight.contains(this,
this.querySelector(selector))});return new ElementList},map:function(func){var objects=this;var length=this.length;var arr=new ElementList;for(var i=0;i<length;++i)arr.add(func.call(objects[i],objects[i],i,objects));return arr},each:function(callback){var objects=this;var length=this.length;for(var i=0;i<length;++i){var object=objects[i];callback.call(object,object,i,objects)}return this},equals:function(object){var type=_checkType(object);if(object===undefined)return;if(type==="element"&&this.length===
1&&object===this.get(0))return true;else if(this.length===object.length){var arr,length;if(type===sDaylight)arr=object.o;else if(type===sArray||type===sNodeList)arr=object;else arr=object;length=arr.length;for(var i=0;i<length;++i)if(this.index(arr[i])===-1)return false;return true}return false}});prototype.equal=prototype.equals;prototype.setAttribute=function(name,value){this.each(function(obj){obj.setAttribute?obj.setAttribute(name,value):obj[name]=value});return this};prototype.getAttribute=function(name){var o=
this.get(0)||"";return o.getAttribute?o.getAttribute(name):o[name]};prototype.attr=function(name,value){var length=arguments.length;if(length>=2)return this.setAttribute(name,value);if(length!==1)return;return this.getAttribute(name)};daylight.extend({removeClass:function(element,className,ignoreCheck){if(!ignoreCheck&&!daylight.isElement(element))return false;var name=element.className;var arr=name.split(" ");var length=arr.length;var afterClassName="";for(var i=0;i<length;++i){var eClass=arr[i];
if(eClass===className)continue;afterClassName+=afterClassName?" "+eClass:eClass}element.className=afterClassName;return true},hasClass:function(element,className){if(!daylight.isElement(element))return false;var name=element.className;var arr=name.split(" ");var length=arr.length;for(var i=0;i<length;++i)if(arr[i]===className)return true;return false},addClass:function(element,className){if(daylight.hasClass(element,className))return false;if(element.className==="")element.className=className;else element.className+=
" "+className;return true},toggleClass:function(element,className,className2){if(!element)return false;var is_add=daylight.addClass(element,className);if(!is_add){daylight.removeClass(element,className,true);if(className2)daylight.addClass(element,className2);return false}else if(className2)daylight.removeClass(element,className2,true);return true}});daylight.extend(true,prototype,{getClass:function(){var obj=this.get(0);if(obj instanceof _Element)return obj.className.split(" ");return[]},addClass:function(className){this.each(function(e,
index){daylight.addClass(e,className)});return this},hasClass:function(className,index){if(!index)index=0;if(!this.length)return false;return daylight.hasClass(this.get(index),className)},toggleClass:function(className,className2){if(this.length===0)return;this.each(function(e,index){daylight.toggleClass(e,className,className2)});return this},removeClass:function(className){this.each(function(element){daylight.removeClass(element,className)});return this}});var _style=function(element,name){if(!element)return;
if(arguments.length===1)return window.getComputedStyle&&window.getComputedStyle(element)||element.currentStyle||element.style;if(arguments.length===2)return window.getComputedStyle&&window.getComputedStyle(element)[name]||element.currentStyle&&element.currentStyle[name]||element.style[name]};var _curCss=function(element,name,pre_styles){if(!element||!name)return;name=daylight.camelCase(name);var style=pre_styles&&pre_styles[name]||_style(element,name)||0;if(style&&style.length&&style[style.length-
1]==="%"){var percentage=parseFloat(style);if(percentage==0)return 0+"px";var offset_parent=element.offsetParent||element.parentNode;var element_styles=_style(offset_parent);var dimension=_curCssHook(offset_parent,name,element_styles);return percentage*dimension/100+"px"}return style};var _checkBorder=function(border){switch(border){case "thick":return"6px";case "medium":return"4px";case "thin":return"2px"}return border};var _dimensionCssHook=function(element,component,pre_styles){var border_left=
_curCss(element,"border-"+component[0]+"-width",pre_styles);var border_right=_curCss(element,"border-"+component[1]+"-width",pre_styles);var border_left_display=_curCss(element,"border-"+component[0],pre_styles);var border_right_display=_curCss(element,"border-"+component[1],pre_styles);var padding_left=_curCss(element,"padding-"+component[0],pre_styles);var padding_right=_curCss(element,"padding-"+component[1],pre_styles);border_left=border_left_display==0?0:_checkBorder(border_left);border_right=
border_right_display==0?0:_checkBorder(border_right);var inner=component[0]==="left"?$(element).innerWidth():$(element).innerHeight();var dimension=inner-parseFloat(border_left)-parseFloat(border_right)-parseFloat(padding_left)-parseFloat(padding_right);return dimension};var _curCssHook=function(element,name,pre_styles){var lrtype=["left","right","width","margin-left","margin-right","padding-left","padding-right"];var tbtype=["top","bottom","height","margin-top","margin-bottom","padding-top","padding-bottom"];
if(lrtype.indexOf(name)!==-1){var requestComponent=["left","right"];return _dimensionCssHook(element,requestComponent,pre_styles)}else if(tbtype.indexOf(name)!==-1){var requestComponent=["top","bottom"];return _dimensionCssHook(element,requestComponent,pre_styles)}else if(name==="font-size")return _curCss(element.offsetParent,name);return 0};daylight.css=function(element,name,value){var type=this.type(name);if(type==="object"){daylight.each(name,function(value,key){element.style[key]=value});return}name=
daylight.camelCase(name);if(value!==undefined&&typeof value!="boolean"){element.style[name]=value;return value}if(value===true){var returnValue=parseFloat(_curCss(element,name));if(!returnValue)return 0;return returnValue}return _curCss(element,name)};prototype.css=function(name,value,isNoObject){if(this.length===0)return;if(name===undefined)return _style(this.get(0));if(!isNoObject){var self=this;var type=daylight.type(name);if(type==="object"){this.each(function(){var element=this;var style=element.style;
var cssText="";var length=style.length;for(var i=0;i<length;++i){if(name[style[i]]===0||name[style[i]])continue;name[style[i]]=style[style[i]]}var property;for(property in name)cssText+=property+": "+name[property]+";";element.style.cssText=cssText});return this}}name=daylight.camelCase(name);if(value!==undefined){this.forEach(function(e){e.style[name]=value});return this}var e0=this.get(0);if(e0===undefined)return;return daylight.css(e0,name)};var _isIeCustomEvent=!document.createEvent&&!!document.createEventObject;
var _customEvents={};daylight.initEvent=function(name,extra){var e;if(_isIeCustomEvent){e=document.createEventObject();e.type=name;e.eventType=name}else{e=document.createEvent("Event");e.initEvent(name,true,true)}for(var key in extra)e[key]=extra[key];return e};daylight.triggerCustomEvent=function(element,name,extra){var e=daylight.initEvent(name);if(!_customEvents.hasOwnProperty(name))return;var event_trigger_info=_customEvents[name];for(var i=0,length=event_trigger_info.length;i<length;++i){var event_info=
event_trigger_info[i];var has=daylight.has(event_info.element,element,true);if(has){e.srcElement=e.target=element;e.currentTarget=event_info.element;event_info.handler.call(event_info.element,e)}}return};daylight.trigger=function(element,key,extra){var returnValue=false;var e=daylight.initEvent(key,extra);if(element.dispatchEvent)returnValue=element.dispatchEvent(e);else if(element.fireEvent)if(_isIeCustomEvent)returnValue=daylight.triggerCustomEvent(element,key,extra);else returnValue=element.fireEvent("on"+
key,e);else if(element[key])returnValue=element[key](e);else if(element["on"+key])returnValue=element["on"+key](e);return returnValue};prototype.trigger=function(key,extra){this.each(function(element){daylight.trigger(element,key,extra)});return this};prototype.on=function(key,func,type){if(func)this.each(function(ele){if(ele.addEventListener)ele.addEventListener(key,func);else if(ele.attachEvent){ele.attachEvent("on"+key,function(e){func.call(ele,e)});if(_isIeCustomEvent){if(!_customEvents[key])_customEvents[key]=
[];_customEvents[key].push({element:ele,handler:func,bubble:type===undefined?true:!type,capture:!!type})}}else ele["on"+key]=handler});else this.trigger(key);return this};var _touch=function(e){var te={};if(e.touches){te.changes=e.changedTouches;te.touches=e.touches;te.length=te.touches.length}return te},_pos=function(e,bGetOffset){var body=document.body;var documentElement=document.documentElement;var left=body.scrollLeft||documentElement.scrollLeft;var top=body.scrollTop||documentElement.scrollTop;
var pos={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,layerX:e.offsetX||e.layerX,layerY:e.offsetY||e.layerY,screenX:e.screenX,screenY:e.screenY};return pos},_touchOne=function(e){if(e.touches){var xy=e.type==="touchend"?_pos(e.changedTouches[0]):_pos(e.touches[0]);return xy}return{}};daylight.Event=daylight.$Event=function(e){var callee=arguments.callee;if(e instanceof callee)return e;if(!(this instanceof callee))return new callee(e);if(e===undefined)e=window.event;var element=
e.target||e.srcElement;if(element.nodeType==3)element=element.parentNode;var currentElement=e.currentTarget||element;this.target=this.element=element;this.currentElement=currentElement;this.type=e.type;this._event=e};var eventPrototype=daylight.$Event.prototype;eventPrototype.preventDefualt=function(){this._event.preventDefault()};eventPrototype.pos=function(bGetOffset){return _pos(this._event,bGetOffset)};eventPrototype.mouse=function(bGetOffset){return _pos(this._event,bGetOffset)};eventPrototype.touch=
function(e){return _touch(this._event)};eventPrototype.cross=function(e){return daylight.$E.cross(this._event)};eventPrototype.key=function(){var e=this._event;var keyCode=e.keyCode||e.charCode;var ret={keyCode:keyCode,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey,shift:e.shiftKey,up:keyCode==38,down:keyCode==40,left:keyCode==37,right:keyCode==39,enter:keyCode==13,esc:keyCode==27,command:keyCode==91,character:String.fromCharCode(keyCode)};return ret};daylight.$E={pos:function(e){return _pos(e)},touch:function(e){return _touch(e)},
cross:function(e){var is_touch=e.touches!==undefined;var pos={};if(is_touch)pos=_touchOne(e);else pos=_pos(e);pos.is_touch=is_touch;return pos}};"scroll load dblclick click mousedown mousemove mouseup mouseleave focus keydown keypress keyup select selectstart resize".split(" ").forEach(function(name,index,arr){if(typeof name!=="string")return;prototype[name]=function(func){this.on(name,func);return this}});prototype.extend({wheel:function(func){this.on("DOMMouseScroll",func);this.on("mousewheel",
func)},ready:function(func){function listener(e){if(e&&e.readyState||this.readyState==="interactive")func.call(this,e)}this.each(function(){if(this.readyState==="interactive"||this.readyState==="complete")listener({readyState:"interactive"})});this.on("readystatechange",listener)}});daylight.extend(true,prototype,{dragEvent:function(e,dragDistance,dragObject){var extra={};extra=e;extra.dragInfo=dragDistance;extra.dragElement=event.dragObject=dragObject;extra.stx=dragDistance.stx;extra.sty=dragDistance.sty;
extra.dragX=dragDistance.x;event.dragY=dragDistance.y;extra.dx=dragDistance.dx;extra.dy=dragDistance.dy;extra.daylight=true;extra.is_touch=dragDistance.is_touch;return extra},drag:function(dragFunc){var dragObject=null;var is_drag=false;var is_move=false;var dragDistance={x:0,y:0};var prePosition=null;var self=this;var bObject=daylight.isPlainObject(dragFunc);var bFunction=daylight.isFunction(dragFunc);var bScreenPosition=false;var bStopProgation=bObject&&dragFunc.stopProgation;var pos;var mouseDown=
function(e){if(e.type==="touchstart"){var touches=e.touches;if(touche.length>1)if(is_move===false)is_drag=false}prePosition=daylight.$E.cross(e);isScreenPosition=prePosition.screenX!==undefined;pos=bScreenPosition?{x:"screenX",y:"screenY"}:{x:"pageX",y:"pageY"};dragDistance={stx:prePosition[pos.x],sty:prePosition[pos.y],x:0,y:0,dx:0,dy:0,is_touch:prePosition.is_touch,is_drag:false};dragObject=e.target||e.srcElement;is_drag=true;is_move=false;var extra=self.dragEvent(e,dragDistance,dragObject);var returnValue=
daylight.trigger(this,"dragstart",extra);if(returnValue===false){if(e.preventDefault)e.preventDefault();e.returnValue=false}};var mouseMove=function(e){if(!is_drag)return;is_move=true;var position=daylight.$E.cross(e);dragDistance.dx=position[pos.x]-prePosition[pos.x];dragDistance.dy=position[pos.y]-prePosition[pos.y];dragDistance.x=position[pos.x]-dragDistance.stx;dragDistance.y=position[pos.y]-dragDistance.sty;prePosition=position;dragDistance.is_drag=true;var extra=self.dragEvent(e,dragDistance,
dragObject);var returnValue=daylight.trigger(this,"drag",extra);if(returnValue===false){if(e.preventDefault)e.preventDefault();e.returnValue=false}};var mouseUp=function(e){if(!is_drag)return;is_drag=false;var extra=self.dragEvent(e,dragDistance,dragObject);var returnValue=daylight.trigger(this,"dragend",extra);dragObject=null};var mouseLeave=function(e){if(!is_drag)return;if(daylight(this).has(e.target,true).size()===0){mouseUp.call(this,e);console.log("mouseleave")}};this.on("mousedown",mouseDown);
this.on("mousemove",mouseMove);this.on("mouseup",mouseUp);this.on("mouseleave",mouseLeave);this.on("dragcancel",function(e){is_drag=false;dragObject=null});if(!bObject||bObject&&!dragFunc.isOnlyMouse){this.on("touchstart",mouseDown);this.on("touchmove",mouseMove);this.on("touchend",mouseUp)}return this}});var window=window.window;daylight.extend(true,prototype,{visible:function(obj){var obj=obj||{top:"0%",left:"0%",width:"100%",height:"100%"};var top=obj.top||"0%";var left=obj.left||"0%";var width=
obj.width||"100%";var height=obj.height||"100%";this.each(function(e){var self=this;var is_visible=false;var dlElement=daylight(this);dlElement.on("scroll",function(e){var screen=obj;var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var width=dlElement.outerWidth();var height=dlElement.outerHeight();var rect=window.getBoundingClientRect(self);var top=rect.top;var left=rect.left;var screenX=parseFloat(screen.left);var screenY=parseFloat(screen.top);var screenX2=screenX+parseFloat(screen.width);
var screenY2=screenY+parseFloat(screen.height);if(!is_visible){is_visible=true;daylight.trigger(this,"visible")}if(is_visible){is_visible=false;daylight.trigger(this,"invisible")}})})}});prototype.extend({dimension:function(type){var sType=daylight.type(type);var name;if(sType==="number")name=type===1?"width":"height";else name=type;var element=this.get(0);if(!element)return 0;var offset_parent=element.offsetParent;var element_styles=_style(offset_parent);var dimension=_curCssHook(offset_parent,name,
element_styles);return dimension},style:function(name){var o=this.get(0);if(!daylight.isElement(o))return;return o.style[name]}});daylight.each(["Width","Height"],function(name){if(typeof name!=="string")return;var lowerName=name.toLowerCase();var requestComponent=name==="Width"?["left","right"]:["top","bottom"];prototype[lowerName]=function(){if(this[lowerName]>0)return this[lowerName];var currentStyle=this.style();var o=this.get(0);var dimension=0;if(!o)return;if(o["client"+name]>0){dimension=o["client"+
name];var cssHooks=_style(o);dimension-=parseFloat(_curCss(o,"padding-"+requestComponent[0],cssHooks));dimension-=parseFloat(_curCss(o,"padding-"+requestComponent[1],cssHooks));return dimension}var dimension=o["offset"+name];var cssHooks=_style(o);dimension-=parseFloat(_curCss(o,"padding-"+requestComponent[0],cssHooks));dimension-=parseFloat(_curCss(o,"padding-"+requestComponent[1],cssHooks));dimension-=parseFloat(_curCss(o,"border-"+requestComponent[0]+"-width",cssHooks));dimension-=parseFloat(_curCss(o,
"border-"+requestComponent[1]+"-width",cssHooks));return dimension};prototype["inner"+name]=function(){var o=this.get(0);if(!o)return;if(o["inner"+name]>0)return o["inner"+name];var dimension=o["offset"+name];var cssHooks=_style(o);dimension-=parseFloat(_curCss(o,"border-"+requestComponent[0]+"-width",cssHooks));dimension-=parseFloat(_curCss(o,"border-"+requestComponent[1]+"-width",cssHooks));return dimension};prototype["outer"+name]=function(bInlcudeMargin){var currentStyle=this.style();var o=this.get(0);
if(!o)return;var dimension=o["offset"+name]||o["outer"+name];if(bInlcudeMargin){var cssHooks=_style(o);dimension+=parseFloat(_curCss(o,"margin-"+requestComponent[0],cssHooks))+parseFloat(_curCss(o,"margin-"+requestComponent[1],cssHooks))}return dimension};prototype["scroll"+name]=function(bInlcudeMargin){var o=this.get(0);if(!o)return;var dimension=o["scroll"+name];return dimension}});prototype.extend({position:function(){var offsetParent,offset,elem=this.get(0);parentOffset={top:0,left:0};if(_curCss(elem,
"position")==="fixed")offset=elem.getBoundingClientRect();else{offsetParent=this.offsetParent();offset=this.offset();var elOffset=offsetParent.get(0);if(!elOffset)return;if(!daylight.nodeName(elOffset,"html"))parentOffset=offsetParent.offset();parentOffset.top+=_curCss(elOffset,"borderTop")==0?0:daylight.css(elOffset,"borderTopWidth",true);parentOffset.left+=_curCss(elOffset,"borderLeft")==0?0:daylight.css(elOffset,"borderLeftWidth",true);parentOffset.top-=daylight.css(elOffset,"marginTop",true);
parentOffset.left-=daylight.css(elOffset,"marginLeft",true)}return{top:offset.top-parentOffset.top-daylight.css(elem,"marginTop",true),left:offset.left-parentOffset.left-daylight.css(elem,"marginLeft",true)}},offset:function(){var element=this.get(0);var box={top:0,left:0};if(!element)return box;var win=window;var doc=document;var docElem=docElem=doc.documentElement;if(element.getBoundingClientRect)box=element.getBoundingClientRect();return{top:box.top+(win.pageYOffset||0)-(docElem.clientTop||0),
left:box.left+(win.pageXOffset||0)-(docElem.clientLeft||0)}}});daylight.clone=function(node,dataAndEvent,deepDataAndEvent){var n=node.cloneNode();n.innerHTML=node.innerHTML;return n};var _textToElement=function(text){var e=document.createElement("div");e.innerHTML=text;return e};var _addDomEach=function(dlObject,element,callback){if(dlObject.length===0)return;var t=_checkType(element,true);var e;switch(t){case "string":case "number":e=_textToElement(element).childNodes;break;case "daylight":e=element.o;
break;case sElementList:case "nodelist":case "array":e=element;break;case "element":e=[element]}if(e===undefined)return;var length=e.length;if(dlObject.length===1){var self=dlObject.get(0);for(var i=0;i<length;++i){if(self===e[i])continue;callback.call(self,self,e[i])}}else{dlObject.each(function(self,index){for(var i=0;i<length;++i){if(self===e[i])continue;callback.call(self,self,daylight.clone(e[i]))}});for(var i=0;i<length;++i){var parent=e[i].parentNode;if(!parent)continue;parent.removeChild(e[i])}}};
prototype.extend({before:function(obj){var is_element=daylight.isElement(obj);if(!is_element){var type=_checkType(obj);if(type==="string"||type==="boolean"||type==="number"){this.insertHTML("beforebegin",obj);return this}}_addDomEach(this,obje,function(target,element){if(daylight.isElement(target)&&target.parentNode)target.parentNode.insertBefore(element,target)});return this},prepend:function(obj){var is_element=daylight.isElement(obj);if(!is_element){var type=_checkType(obj);if(type==="string"||
type==="boolean"||type==="number"){this.insertHTML("afterbegin",obj);return this}}_addDomEach(this,obj,function(target,element){if(daylight.isElement(target))target.insertBefore(element,target.firstChild)});return this},append:function(obj){var is_element=daylight.isElement(obj);if(!is_element){var type=_checkType(obj);if(type==="string"||type==="boolean"||type==="number"){this.insertHTML("beforeend",obj);return this}}_addDomEach(this,obj,function(target,element){if(daylight.isElement(target))target.appendChild(element)});
return this},after:function(obj){var is_element=daylight.isElement(obj);if(!is_element){var type=_checkType(obj);if(type==="string"||type==="boolean"||type==="number"){this.insertHTML("afterend",obj);return this}}_addDomEach(this,obj,function(target,element){if(daylight.isElement(target)&&target.parentNode)target.parentNode.insertBefore(element,target.nextSibling)});return this},insertHTML:function(position,html){this.each(function(element){element.insertAdjacentHTML(position,html)});return this},
html:function(value){if(!(value===undefined))this.each(function(){this.innerHTML=value});if(this.length===0)return"";var target=this.get(0);if(target===undefined)return;return target.innerHTML},text:function(value){if(!(value===undefined)){this.each(function(){this.innerText=value});return this}var target=this.get(0);if(target===undefined)return;return target.innerText},ohtml:function(value){if(!(value===undefined))this.each(function(){thisuterHTML=value});var target=this.get(0);if(target===undefined)return;
return target.outerHTML}});daylight.extend(true,prototype,{removeChild:function(element){var size=this.length;for(var i=0;i<size;++i)try{this.get(i).removeChild(element)}catch(e){}return this},remove:function(selector){var type=_checkType(selector,true);if(type==="undefined")this.each(function(element){var parent=element.parentNode;if(!parent)return;try{parent.removeChild(element)}catch(e){}});else if(type==="element")this.removeChild(selector);else if(type===sString)this.each(function(element){var a=
element.querySelectorAll(selector);var length=a.length;for(var i=0;i<length;++i)try{element.removeChild(a[i])}catch(e){console.log(e)}});return this}});var _value={select:{get:function(element){var result=[];var options=element&&element.options;var opt;length=options.length;for(var i=0;i<length;++i){opt=options[i];if(opt.selected)result[result.length]=opt.value||opt.text}return result.length>1?result:result[0]},set:function(element,key){var options=element&&element.options;if(!options)return;var result=
[];var type=daylight.type(key);var length=options.length;if(!length)return;switch(type){case "number":for(var i=0;i<length;++i){var opt=options[i];opt.selected=false}options[key].selected=true;break;case "string":for(var i=0;i<length;++i){var opt=options[i];var value=opt.value||opt.text;opt.selected=value===key}break;case "array":for(var i=0;i<length;++i){var opt=options[i];var value=opt.value||opt.text;opt.selected=key.indexOf(value)>=0}}}},input:{get:function(element,is_value){var type=element.type;
if(!_value[type])return element.value;else return _value[type].get(element,is_value)},set:function(element,value){var type=element.type;if(!_value[type])element.value=value;else _value[type].set(element,value)}},textarea:{get:function(element){return element.value||element.innerText},set:function(element,key){element.value=element.innerText=key}},radio:{get:function(element,is_checked){if(is_checked)return element.checked;return element.value},set:function(element,key){var type=daylight.type(key);
if(type==="array")element.checked=!!(key.indexOf(element.value)>=0);else element.checked=element.value===key}},checkbox:{get:function(element,is_checked){if(is_checked)return element.checked;return element.value},set:function(element,key){var type=daylight.type(key);if(type==="array")element.checked=!!(key.indexOf(element.value)>=0);else element.checked=element.value===key}}};prototype.extend({val:function(value){if(!(value===undefined)){this.each(function(){if(!daylight.isElement(this))return;var node=
this.nodeName.toLowerCase();_value[node].set(this,value)});return this}var element=this.get(0);if(!daylight.isElement(element))return;var node=element.nodeName.toLowerCase();return _value[node].get(element)}});daylight.template=function(obj,template){var type=_checkType(obj);var templateType=_checkType(template);if(templateType===sDaylight||templateType===sNodeList)template=template.ohtml()||"";if(type===sArray){var contents=[];var length=obj.length;for(var i=0;i<length;++i){var content=obj[i];contents[contents.length]=
this.template(content,template)}return contents.join(" ")}else if(type===sObject){for(var k in obj){var value=obj[k];if(this.type(value)==="array"){var regx=new RegExp("{"+k+"}((.|\n|\r)*?){/"+k+"}","g");var list=template.match(regx);if(!list)continue;for(var i=0;i<list.length;++i){var sub_template=list[i];sub_template=sub_template.replace("{"+k+"}","");sub_template=sub_template.replace("{/"+k+"}","");template=template.replace(list[i],daylight.template(value,sub_template))}}else{if(typeof value===
"undefined")value="";template=template.replaceAll("{"+k+"}",value)}}return template}else return template.replaceAll("{1}",obj);return""};prototype.template=function(o,t){this.html(daylight.template(o,t));return this};var _ajaxFunc={"ajax":{init:function(ajax){var target=new XMLHttpRequest;target.open(ajax.option.method,ajax.url,ajax.option.async);ajax.target=target},send:function(ajax){var request=ajax.target;if(typeof ajax.param==="string"&&ajax.param!=""){var length=ajax.param.split("&").length;
request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.setRequestHeader("Content-length",ajax.param.length)}request.send(ajax.param)},_get:function(ajax,request){var contentType=request.getResponseHeader("content-type");switch(ajax.option.type){case "auto":if(contentType==="application/json")return daylight.parseJSON(request.responseText);if(!request.responseXML)return request.responseText;case "xml":if(request.responseXML)return request.responseXML;break;case "text":return request.responseText;
break;case "json":return daylight.parseJSON(request.responseText)}return request.responseText},statechange:function(ajax){var request=ajax.target;var self=this;request.onreadystatechange=function(){if(request.readyState==4){if(request.status==200){if(ajax.func.done){var value=self._get(ajax,request);ajax._done(value,request)}}else ajax._fail(request);ajax._always(request)}};request.timeout=5E3;request.ontimeout=function(){ajax._timeout(request)}}},"script":{init:function(ajax){var head=document.getElementsByTagName("head")[0];
var script=document.createElement("script");script.type="text/javascript";ajax.target=script},send:function(ajax){setTimeout(function(){var script=ajax.target;if(ajax.option.type==="jsonp")daylight.defineGlobal(ajax.callbackName,function(data){ajax._done(data,script);ajax._always(script);window[ajax.callbackName]=undefined;script.parentNode.removeChild(script);delete window[ajax.callbackName]});var e=daylight("head, body").o[0];if(e)e.appendChild(script);script.src=ajax.url},1)},get:function(){},
statechange:function(ajax){var script=ajax.target;var self=this;script.onreadystatechange=function(){if(this.status=="loaded");};script.onerror=function(){ajax._fail(script);ajax._always(script)};script.onload=function(){if(ajax.option.type!="jsonp"){ajax._done(script.innerHTML,script);ajax._always(script)}}}}};daylight.ajax=function(url,option){var cl=arguments.callee;if(!(this instanceof cl))return new cl(url,option);this.option={autoSend:this.autoSend,method:this.method,type:this.type,async:this.async};
this.url=url;this.func={done:null,always:null,fail:null,timeout:null,beforeSend:null};if(option)for(var k in option)this.func[k]===undefined?this.option[k]=option[k]:this.func[k]=option[k];option=this.option;var type=option.type==="jsonp"?"script":"ajax";var ajaxFunc=this.ajaxFunc=_ajaxFunc[type];this.setParameter(option.data);ajaxFunc.init(this);ajaxFunc.statechange(this);if(option.autoSend)this.send()};daylight.ajax.prototype.extend=daylight.extend;daylight.ajax.prototype.autoSend=true;daylight.ajax.prototype.method=
"GET";daylight.ajax.prototype.type="auto";daylight.ajax.prototype.async=true;daylight.ajax.prototype.extend({beforeSend:function(func){this.func.beforeSend=func;return true},done:function(func){this.func.done=func;return this},timeout:function(func){this.func.timeout=func;return this},fail:function(func){this.func.fail=func;return this},always:function(func){this.func.always=func;return this}});daylight.ajax.prototype.extend({_done:function(value,target){if(this.func.done)this.func.done.call(target,
value,target)},_fail:function(target){if(this.func.fail)this.func.fail.call(target,target)},_timeout:function(target){if(this.func.timeout)this.func.timeout.call(target,target)},_always:function(target){if(this.func.always)this.func.always.call(target,target)}});daylight.ajax.prototype.get=function(){return this._get(this.request)};daylight.ajax.prototype.send=function(){if(this.func.beforeSend)this.func.beforeSend(this.target);this.ajaxFunc.send(this);return this};daylight.ajax.prototype.extend({setParameter:function(data){if(!data)this.param=
"";else if(typeof data==="string")this.param=data;else if(daylight.isPlainObject(data))this.param=this.objectToParam(data,this.option.method);else if(window.FormData&&data.constructor==FormData)this.param=data;else;if(this.option.type==="jsonp"){this.setJSONP();this.url+="&"+this.param;return}else if(this.option.method==="GET"){var prefix=this.url.indexOf("?")!=-1?"&":"?";this.url+=prefix+this.param}},objectToParam:function(data,method){var param="";for(var key in data){if(param!="")param+="&";param+=
key+"="+(method==="POST"?encodeURI(data[key]):data[key])}return param}});daylight.ajax.prototype.extend({setJSONP:function(){this.callbackName="daylight"+parseInt(Math.random()*1E9);var prefix=this.url.indexOf("?")!=-1?"&":"?";var callback="callback="+this.callbackName;this.url+=prefix+callback}});daylight.extend({searchByQuery:daylight.query,searchByClass:daylight["class"],searchById:daylight.id,searchByName:daylight.name,type:_checkType,checkType:_checkType});prototype.extend({isEmpty:prototype.empty,
forEach:prototype.each});daylight.extend(true,NodeListPrototype,prototype);daylight.extend(true,ElementListPrototype,prototype)})(window);